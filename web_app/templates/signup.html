{% extends "layout.html" %}
{% block body %}
      <div class="flex flex-row items-center justify-center w-screen h-screen text-center">
      <form id="form" class="flex flex-col items-center justify-center p-5 border-4 rounded-lg shadow-lg bg-black/70 shadow-black md:w-1/4" action="/signup" method="post">

        <img class="mb-4 rounded-full shadow-md shadow-black" src="https://cdn.discordapp.com/icons/887038417756639263/4b3931494bccada9b39caa2776c73153.webp?size=100" alt="" width="72" height="72">
        <h1 class="mb-3 underline md:text-2xl">Create your account</h1>
		<div id="error" class="font-bold text-red-500"></div>
			<script>
				const target = document.querySelector("#error");
				const observer = new MutationObserver(()=>{ target.classList.add("animate-shake"); setTimeout(()=>{ target.classList.remove("animate-shake") },2000)})
				const config = { attributes: false, childList: true, subtree:false }
				observer.observe(target,config) 
			</script>
        <label for="name" class="sr-only">User Name</label>
        <input type="text" id="name" name="Name" class="p-1 my-4 mt-2 text-center text-black shadow-md shadow-black rounded-md" placeholder="User Name" required autofocus>
      
        <label for="Email" class="sr-only">Email Address</label>
      
        <input type="email" id="Email" name="Email" class="p-1 my-4 text-center text-black shadow-md shadow-black rounded-md" placeholder="Email Address" required autofocus>
      
        <label for="Password" class="sr-only">Password</label>
      
        <input type="password" id="Password" name="Password" class="p-1 my-4 text-center text-black shadow-md shadow-black rounded-md" oninput="confirm_password()" placeholder="Password" required>
      
        <label for="Confirm Password" class="sr-only">Confirm Password</label>
      
        <input type="password" id="ConfirmPassword" class="p-1 my-4 text-center text-black shadow-md shadow-black rounded-md" oninput="confirm_password()" placeholder="Confirm Password" required>
      <script>
        // Verify for password and confirm password
        function confirm_password() {
        const password = document.querySelector("#Password").value;
        const confirmpassword = document.querySelector("#ConfirmPassword").value;
        if (! (password === confirmpassword)) {document.querySelector("#error").innerHTML="Password didn't matched"}
        else {document.querySelector("#error").innerHTML=null}
      }
      </script>
      <button id="sign_in" class="flex items-center px-4 py-2 mt-2 bg-gray-900 rounded shadow shadow-black transition hover:-translate-y-1 duration-300" type="submit" >Sign In</button>
      <p class="mt-5 mb-3 text-muted">&copy; 2017-2018</p>
      {% if account_exist==True %}
      <script>
        document.querySelector("#error").innerHTML="Account already exists"
      </script>
      {% else %}
      {% endif %}

    </form>
	<script>
		const form_id = document.querySelector('#form');        
        const sign_in_btn_id = document.querySelector('#sign_in') 
		form_id.addEventListener('submit',()=>{ sign_in_btn_id.innerHTML='<svg class="w-5 h-5 mr-3" version="1.1" id="L7" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" enable-background="new 0 0 100 100" viewBox="0 0 100 100"><path fill="#fff" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform></path><path fill="#fff" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="-360 50 50" repeatCount="indefinite"></animateTransform></path><path fill="#fff" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5L82,35.7z"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="2s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform></path></svg>Processing...' }) 

	</script>
  
{% endblock %}
